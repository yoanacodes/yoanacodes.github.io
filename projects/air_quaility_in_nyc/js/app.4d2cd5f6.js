(function(t){function e(e){for(var n,i,c=e[0],l=e[1],s=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,s||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var l=a[c];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"28cc":function(t,e,a){},"294d":function(t,e,a){"use strict";a("9ea8")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"appBg"}},[a("About"),a("v-main",{staticClass:"pa-8",attrs:{id:"vizBg"}},[a("Visualizations")],1),a("Footer"),a("div",{attrs:{id:"tooltip"}})],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"about"}},[a("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-4",attrs:{cols:"12"}},[a("h1",{staticClass:"display-2 font-weight-light mb-3"},[t._v(" Air Quality and Health Outcomes in NYC ")])]),a("v-col",{staticClass:"mt-2 mb-12",attrs:{cols:"8",xs:"11",sm:"8",md:"7",lg:"6",xl:"5"}},[a("p",[t._v(" This project leverages data visualization to uncover different trends in the air quality of New York City and how they affect the population’s health. By looking at how air quality correlates with different metrics such as Asthma Hospitalizations or Cardiac and Respiratory Deaths in the context of the city geography, we facilitate the analysis of the data and decision making. ")]),a("p",[t._v(" The main findings are that while the majority of the indicators are trending downwards, meaning there is an overall improvement in the health and air quality outcomes, there are still stark differences between neighborhoods. In certain cases, we even observe a reversing of the positive trends in the 2015-2017 period with sharp upwards spikes returning. ")]),a("p",[t._v(" Explore the indicators by selecting a metric from the dropdown and choosing the data breakdown by borough or by neighborhood. ")])])],1)],1)},c=[],l={name:"About"},s=l,u=(a("6419"),a("2877")),d=a("6544"),f=a.n(d),p=a("62ad"),h=a("a523"),v=a("0fd9"),m=Object(u["a"])(s,i,c,!1,null,null,null),b=m.exports;f()(m,{VCol:p["a"],VContainer:h["a"],VRow:v["a"]});var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticStyle:{background:"#ddd"},attrs:{padless:""}},[a("v-col",{staticClass:"text-left",staticStyle:{"font-size":"8pt",color:"#333"},attrs:{cols:"6"}},[t._v(" MS Data Visualization, Parsons School of Design, NYC ")]),a("v-col",{staticClass:"text-right",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[a("a",{attrs:{href:"https://yoanacodes.com/index.html",target:"_blank"}},[t._v("Portfolio")]),t._v("   |   "),a("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Contact: Yoana Kosturska")]),t._v("   |   © 2021-"+t._s((new Date).getFullYear())+" ")])],1)},y=[],w={name:"Footer"},_=w,j=(a("294d"),a("553a")),V=Object(u["a"])(_,g,y,!1,null,null,null),O=V.exports;f()(V,{VCol:p["a"],VFooter:j["a"]});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[a("v-btn-toggle",{attrs:{mandatory:"",rounded:""},model:{value:t.activeView,callback:function(e){t.activeView=e},expression:"activeView"}},[a("v-btn",{attrs:{value:"borough",small:""}},[a("v-icon",[t._v("mdi-home-city")]),t._v("   By Borough ")],1),a("v-btn",{attrs:{value:"hood",small:""}},[a("v-icon",[t._v("mdi-map-marker")]),t._v(" By Neighborhood ")],1)],1),"borough"===t.activeView?a("Boroughs"):t._e(),"hood"===t.activeView?a("Neighborhoods"):t._e()],1)],1)},D=[],C=a("5530"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.checkIfDataIsReady?a("v-container",[a("v-col",[a("v-row",{attrs:{id:"hoods"}},[a("Dropdown"),a("RadioButtons"),a("Slopechart",{attrs:{dataset:t.filteredHoods}})],1)],1)],1):t._e()},B=[],R=(a("4de4"),a("b0c0"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"ma-0 pa-0 mt-4",staticStyle:{"margin-bottom":"-20px !important"},attrs:{justify:"center"}},[a("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"6"}},[a("v-select",{staticClass:"ma-0 pa-0",attrs:{items:t.getFilter,label:"Select a variable",dense:"",solo:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)}),S=[],A=a("c46f"),F=a("2f62"),I={name:"DropdownFilter",computed:Object(C["a"])(Object(C["a"])({},Object(F["d"])(["selectedDataset"])),Object(F["b"])(["getFilter","getSelectedDataset"])),data:function(){return{selected:String}},watch:{selected:function(t){this.updateSelectedVariable({dropdownValue:t})}},mounted:function(){this.selected=this.selectedDataset},methods:Object(C["a"])({},Object(F["c"])(["updateSelectedVariable"]))},M=I,E=a("b974"),$=Object(u["a"])(M,R,S,!1,null,null,null),z=$.exports;f()($,{VCol:p["a"],VRow:v["a"],VSelect:E["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"mb-12",attrs:{cols:"12",xs:"12",md:"12",lg:"12",xl:"11"}},[a("h3",{staticClass:"mt-10"},[t._v(t._s(t.population)+" "+t._s(t.measure)+" "),a("br"),t._v("for "+t._s(t.variable))]),a("div",{staticClass:"svg-container",attrs:{id:"plot"}})])},T=[],q=a("3835"),N=a("2909"),Y=(a("ac1f"),a("5319"),a("d81d"),a("99af"),a("a15b"),a("159b"),a("5698")),H={name:"plot",props:["dataset"],computed:Object(C["a"])({},Object(F["d"])(["selectedView"])),data:function(){return{variable:"",measure:"",population:""}},watch:{dataset:{handler:function(t){this.render()},deep:!0}},mounted:function(){this.dataset.length&&this.render()},methods:{strToClass:function(t){return"str-".concat(t.replace(/\s/g,""))},formatDataset:function(){var t=Object(N["a"])(this.dataset),e=A["a"](t).groupBy("geo_place_name").map((function(t,e){return t[0]})).groupBy("value").filter((function(t,e){return t.length>1})).flatten().pluck("geo_place_name").value();e=e.shift(),A["b"](t,(function(t){return e&&e.indexOf(t.geo_place_name)>-1?t.isOverlapped=!0:t.isOverlapped=!1}));var a=A["a"](t).pluck("period").unique().sortBy(A["c"]).value();return{data:t,dates:a}},render:function(){var t=this;Y["i"]("#plot svg").remove();var e=this.formatDataset(),a=e.data,n=e.dates;this.variable=a[0].name,this.population=a[0].measure,this.measure=a[0].measure_info;var o={top:30,right:100,bottom:20,left:120},r=800,i=1300,c=Y["d"](",");Y["k"]("%Q");"hood"===this.selectedView&&(o.left=200,r=1800);var l=i+o.left+o.right,s=r+o.top+o.bottom,u=Y["i"]("#plot").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(l," ").concat(s)).classed("svg-content",!0).append("g").attr("transform","translate("+o.left+","+o.top+")"),d=Y["h"]().domain(n).range([o.left,i-o.right]),f=Y["g"]().domain(Y["c"](a,(function(t){return t.value}))).range([r-o.bottom,o.top]),p=Y["f"]().x((function(t){return d(t.period)})).y((function(t){return f(t.value)})),h=Y["a"].from(a,(function(t){return d(t.period)}),(function(t){return f(t.value)})).voronoi([o.left,o.top,i-o.right,r-o.bottom]),v=Y["i"]("#tooltip");u.append("g").attr("transform","translate(0,".concat(o.top,")")).style("font-size","12pt").call(Y["b"](d)).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.select(".domain").selectAll(".tick text")}));var m=u.append("g").attr("transform","translate(0, 30)");m.append("g").attr("fill","none").attr("stroke","#000").selectAll("path").data(Y["e"](a,(function(t){return t.geo_place_name}))).join("path").attr("class","slope-line").attr("d",(function(t){var e=this,a=Object(q["a"])(t,2),n=a[1];return n.forEach((function(t){return t.line=e})),p(n)})).call((function(t){return t.clone(!0)})).attr("stroke","#fff").attr("stroke-width",5),m.append("g").attr("fill","#fff").selectAll("circle").data(a).join("circle").attr("cx",(function(t){return d(t.period)})).attr("cy",(function(t){return f(t.value)})).attr("r",20),m.append("g").attr("text-anchor","middle").selectAll("text").data(a).join("text").attr("x",(function(t){return d(t.period)})).attr("y",(function(t){return f(t.value)})).attr("dy","0.35em").style("font-size","10pt").text((function(t){return c(t.value)})),m.append("g").attr("text-anchor","end").selectAll("text").data(Y["e"](a,(function(t){return t.geo_place_name}))).join("text").attr("class",(function(e){var a=Object(q["a"])(e,1),n=a[0];return"yLabel "+t.strToClass(n)})).attr("x",o.left-35).style("font-weight",600).attr("y",(function(t){var e=Object(q["a"])(t,2),a=(e[0],Object(q["a"])(e[1],1)),n=a[0];return f(n.value)+12*n.isOverlapped})).attr("dy","0.35em").text((function(t){var e=Object(q["a"])(t,1),a=e[0];return a})),m.append("g").attr("class","voronoiWrapper").selectAll("path").data(a).join("path").attr("opacity",.5).attr("fill","none").style("pointer-events","all").attr("d",(function(t,e){return h.renderCell(e)})).on("mouseover",(function(e,a){var n=v.node().getBoundingClientRect().height;Y["j"](".slope-line").style("opacity",.3).classed("slope-active",!1),Y["j"](".yLabel").classed("str-active",!1),Y["i"](a.line).classed("slope-active",!0),Y["i"]("."+t.strToClass(a.geo_place_name)).classed("str-active",!0),v.style("display","block").style("left",e.pageX+20+"px").style("top",e.pageY-n/2+"px").html("<span class='period'>".concat(a.period,"</span> <span class='place'>").concat(a.geo_place_name,"</span> ").concat(a.value," ").concat(t.measure))})).on("mouseout",(function(){Y["j"](".slope-line").style("opacity",1).classed("slope-active",!1),Y["j"](".yLabel").classed("str-active",!1),v.style("display","none")}))}}},L=H,J=(a("e00e"),Object(u["a"])(L,P,T,!1,null,null,null)),Q=J.exports;f()(J,{VCol:p["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"mt-0 pa-0",attrs:{cols:"12"}},[a("v-row",{staticClass:"text-center justify-center mt-5 pa-5 pt-0",attrs:{justify:"center"}},[a("v-radio-group",{attrs:{label:"Select Borough:",row:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.getRadioButtonValues,(function(t){return a("v-radio",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)},G=[],K={name:"RadioButtons",computed:Object(C["a"])(Object(C["a"])({},Object(F["d"])(["radioValue"])),Object(F["b"])(["getRadioButtonValues"])),data:function(){return{selected:String}},watch:{selected:function(t){this.updateRadioSelection({selectedRadioBtn:t})}},mounted:function(){this.selected=this.radioValue},methods:Object(C["a"])({},Object(F["c"])(["updateRadioSelection"]))},W=K,X=a("67b6"),Z=a("43a6"),tt=Object(u["a"])(W,U,G,!1,null,null,null),et=tt.exports;f()(tt,{VCol:p["a"],VRadio:X["a"],VRadioGroup:Z["a"],VRow:v["a"]});var at={name:"Neighborhoods",components:{Slopechart:Q,Dropdown:z,RadioButtons:et},computed:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(F["d"])(["filteredData","selectedDataset","radioValue"])),Object(F["b"])(["checkIfDataIsReady"])),{},{filteredHoods:function(){var t=this,e=A["a"](this.filteredData).filter((function(t){return"UHF42"==t.geotype_name})).filter((function(e){return e.borough_code==t.radioValue})).filter((function(e){return e.name===t.selectedDataset})).each((function(t){t["period"]=t.time_period,t.value=+parseFloat(t.value).toFixed(2)})).sortBy("period").value();return e}})},nt=at,ot=Object(u["a"])(nt,k,B,!1,null,null,null),rt=ot.exports;f()(ot,{VCol:p["a"],VContainer:h["a"],VRow:v["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.checkIfDataIsReady?a("v-container",[a("v-row",{staticClass:"text-center mt-6",attrs:{id:"boroughs",justify:"center"}},[a("Dropdown"),a("Slopechart",{attrs:{dataset:t.filteredBoroughs}})],1)],1):t._e()},ct=[],lt={name:"Boroughs",components:{Slopechart:Q,Dropdown:z},computed:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(F["d"])(["filteredData","selectedDataset"])),Object(F["b"])(["checkIfDataIsReady"])),{},{filteredBoroughs:function(){var t=this,e=A["a"](this.filteredData).filter((function(t){return"Borough"==t.geotype_name})).filter((function(e){return e.name===t.selectedDataset})).each((function(t){t["period"]=t.time_period,t.value=+parseFloat(t.value).toFixed(2)})).sortBy("period").value();return e}})},st=lt,ut=Object(u["a"])(st,it,ct,!1,null,null,null),dt=ut.exports;f()(ut,{VContainer:h["a"],VRow:v["a"]});var ft={name:"Visualizations",components:{Neighborhoods:rt,Boroughs:dt},data:function(){return{activeView:String}},computed:Object(C["a"])({},Object(F["d"])(["selectedView"])),watch:{activeView:function(t){this.modifyActiveView({currentView:this.activeView})}},mounted:function(){this.activeView=this.selectedView},methods:Object(C["a"])({},Object(F["c"])(["modifyActiveView"]))},pt=ft,ht=a("8336"),vt=a("a609"),mt=a("132d"),bt=Object(u["a"])(pt,x,D,!1,null,null,null),gt=bt.exports;f()(bt,{VBtn:ht["a"],VBtnToggle:vt["a"],VContainer:h["a"],VIcon:mt["a"],VRow:v["a"]});var yt={name:"App",components:{About:b,Footer:O,Visualizations:gt},created:function(){this.$store.dispatch("fetchData")}},wt=yt,_t=(a("cf25"),a("7496")),jt=a("f6c4"),Vt=Object(u["a"])(wt,o,r,!1,null,null,null),Ot=Vt.exports;f()(Vt,{VApp:_t["a"],VMain:jt["a"]});var xt=a("f309");n["a"].use(xt["a"]);var Dt=new xt["a"]({}),Ct=(a("466d"),a("1276"),a("bc3a")),kt=a.n(Ct);n["a"].use(F["a"]);var Bt=new F["a"].Store({state:{data:[],filteredData:[],dataIsReady:!1,selectedView:"borough",selectedDataset:"PM2.5-Attributable Deaths",radioValue:"Manhattan"},mutations:{saveData:function(t,e){t.data=e.data},modifyActiveView:function(t,e){t.selectedView=e.currentView},saveFilteredData:function(t,e){t.filteredData=e.filtered,t.dataIsReady=e.flag},updateSelectedVariable:function(t,e){t.selectedDataset=e.dropdownValue},updateRadioSelection:function(t,e){t.radioValue=e.selectedRadioBtn}},getters:{getFilter:function(t){return A["a"](t.filteredData).pluck("name").unique().sortBy().value()},getRadioButtonValues:function(t){return A["a"](t.filteredData).filter((function(t){return"Borough"==t["geotype_name"]})).pluck("geo_place_name").unique().sortBy().value()},checkIfDataIsReady:function(t){return t.dataIsReady}},actions:{fetchData:function(t){var e=this,a=t.commit;t.state;return kt.a.get("data/air-quality.json").then((function(t){a("saveData",{data:t.data,flag:!0})})).then((function(){e.dispatch("filterData")})).catch((function(t){console.log(t)}))},filterData:function(t){var e=t.commit,a=t.state,n=Object(N["a"])(a.data),o=A["a"](n).filter((function(t){return t.time_period.match(/^(\d+-)+\d+$/)})).each((function(t){if(t.measure.indexOf("Estimated Annual Rate-")>-1){var e=t.measure.split("- ");e[1].indexOf("18")>-1?t.name="".concat(t.name," (Adults ").concat(e[1],")"):t.name="".concat(t.name," (").concat(e[1],")"),t.measure=e[0]}t.value=+t.value,t.name=t.name.replace(/O3-/g,"")})).value();e("saveFilteredData",{filtered:o,flag:!0})}},modules:{}});n["a"].config.productionTip=!1,n["a"].config.debug=!0,n["a"].config.devtools=!0,window.Store={data:[],filteredData:[],selectedVariable:"PM2.5-Attributable Deaths",radioValue:"Manhattan",activeView:"hood"};new n["a"]({vuetify:Dt,render:function(t){return t(Ot)},updated:function(){console.log("+++ App Updated +++")},destroyed:function(){console.log("+++ App Destroyed +++")},store:Bt,mounted:function(){console.log("+++ App Mounted +++")}}).$mount("#app")},6419:function(t,e,a){"use strict";a("28cc")},"9ea8":function(t,e,a){},cf25:function(t,e,a){"use strict";a("fea6")},e00e:function(t,e,a){"use strict";a("f720")},f720:function(t,e,a){},fea6:function(t,e,a){}});
//# sourceMappingURL=app.4d2cd5f6.js.map